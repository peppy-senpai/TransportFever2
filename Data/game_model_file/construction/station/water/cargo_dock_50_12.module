local transf = require "transf"
local vec2 = require "vec2"
local vec3 = require "vec3"
local modulesutil = require "modulesutil"
local constructionutil = require "constructionutil"
local harbourstationutil = require "modules/harbourstationutil"

local cargoCapacity = 30
local passengerCapacity = 0

--Begin Generated
local generatedData = {
	["layout_empty"] = {
		models = {
			["station/rail/asset/cargo_lamps.mdl"] = {
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 6.25000, 0.00000, 0.00000, 1.00000, },
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 18.75000, 0.00000, 0.00000, 1.00000, },
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -6.25000, 0.00000, 0.00000, 1.00000, },
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -18.75000, 0.00000, 0.00000, 1.00000, },
			},
			["station/water/asset/era_a/mooring_ring.mdl"] = {
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 4.47075, -5.47995, -1.80024, 1.00000, },
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 7.63075, -5.47995, -1.80024, 1.00000, },
				{ -1.00000, 0.00000, 0.00000, 0.00000, -0.00000, -1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 4.47075, 5.47000, -1.80024, 1.00000, },
				{ -1.00000, 0.00000, 0.00000, 0.00000, -0.00000, -1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 7.63075, 5.47000, -1.80024, 1.00000, },
			},
		},
	},
	["layout_front"] = {
		models = {
			["asset/industry/pallet_01.mdl"] = {
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -15.65000, 0.00000, 0.00000, 1.00000, },
				{ -0.00000, 1.00000, -0.00000, 0.00000, -0.53647, -0.00000, -0.84392, 0.00000, -0.84392, -0.00000, 0.53647, 0.00000, -16.37242, 0.00000, 0.49856, 1.00000, },
				{ 0.99833, 0.05772, 0.00000, 0.00000, -0.05772, 0.99832, -0.00403, 0.00000, -0.00023, 0.00402, 0.99999, 0.00000, -15.65000, 0.00000, 0.14500, 1.00000, },
				{ 0.99990, -0.01399, 0.00000, 0.00000, 0.01399, 0.99990, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -15.65000, 0.00000, 0.29000, 1.00000, },
				{ 0.99916, 0.04110, 0.00000, 0.00000, -0.04109, 0.99915, -0.00287, 0.00000, -0.00012, 0.00287, 1.00000, 0.00000, -15.65000, 0.00000, 0.43500, 1.00000, },
				{ 0.99992, -0.01253, 0.00000, 0.00000, 0.01253, 0.99992, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -15.65000, 0.00000, 0.58000, 1.00000, },
				{ 0.99961, 0.02806, 0.00000, 0.00000, -0.02806, 0.99960, -0.00196, 0.00000, -0.00005, 0.00196, 1.00000, 0.00000, -15.65000, 0.00000, 0.72500, 1.00000, },
			},
			["station/air/asset/handcart_luggage_a.mdl"] = {
				{ 0.76979, -0.63473, -0.06735, 0.00000, 0.63232, 0.77273, -0.05532, 0.00000, 0.08716, 0.00000, 0.99619, 0.00000, -4.35000, 0.16000, 0.00000, 1.00000, },
			},
			["station/rail/asset/cargo_lamps.mdl"] = {
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 6.25000, 0.00000, 0.00000, 1.00000, },
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 18.75000, 0.00000, 0.00000, 1.00000, },
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -6.25000, 0.00000, 0.00000, 1.00000, },
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -18.75000, 0.00000, 0.00000, 1.00000, },
			},
			["station/rail/asset/cargo_pallet_jack.mdl"] = {
				{ -0.61841, -0.78586, 0.00000, 0.00000, 0.78586, -0.61841, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -17.58000, 0.00000, 0.00000, 1.00000, },
			},
			["station/rail/asset/cargo_speakers.mdl"] = {
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 17.02500, 0.00000, 0.00000, 1.00000, },
			},
			["station/water/asset/era_a/gangway_s1.mdl"] = {
				{ 0.05582, -0.99844, 0.00000, 0.00000, 0.99844, 0.05582, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 9.89626, 0.05000, 0.00000, 1.00000, },
			},
			["station/water/asset/era_a/mooring_bollard_cargo.mdl"] = {
				{ -1.00000, -0.00000, 0.00000, 0.00000, 0.00000, -1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 17.87796, -5.65000, 0.00000, 1.00000, },
				{ -1.00000, -0.00000, 0.00000, 0.00000, 0.00000, -1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -9.67204, -5.65000, 0.00000, 1.00000, },
			},
			["station/water/asset/era_a/mooring_ring.mdl"] = {
				{ -1.00000, 0.00000, -0.00000, 0.00000, -0.00000, -1.00000, 0.00000, 0.00000, -0.00000, 0.00000, 1.00000, 0.00000, 4.47075, 5.47000, -1.80024, 1.00000, },
				{ -1.00000, 0.00000, -0.00000, 0.00000, -0.00000, -1.00000, 0.00000, 0.00000, -0.00000, 0.00000, 1.00000, 0.00000, 7.63075, 5.47000, -1.80024, 1.00000, },
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 4.47075, -5.47995, -1.80024, 1.00000, },
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 7.63075, -5.47995, -1.80024, 1.00000, },
			},
			["station/water/asset/era_a/tire_bumper.mdl"] = {
				{ -0.76000, -0.00000, -0.00000, 0.00000, -0.00000, -0.76000, 0.00000, 0.00000, -0.00000, 0.00000, 0.76000, 0.00000, -0.00136, -6.19078, -0.08165, 1.00000, },
				{ -0.76000, -0.00000, -0.00000, 0.00000, -0.00000, -0.76000, 0.00000, 0.00000, -0.00000, 0.00000, 0.76000, 0.00000, -7.13636, -6.19078, -0.08165, 1.00000, },
				{ -0.76000, -0.00000, -0.00000, 0.00000, -0.00000, -0.76000, 0.00000, 0.00000, -0.00000, 0.00000, 0.76000, 0.00000, -14.28136, -6.19078, -0.08165, 1.00000, },
				{ -0.76000, -0.00000, -0.00000, 0.00000, -0.00000, -0.76000, 0.00000, 0.00000, -0.00000, 0.00000, 0.76000, 0.00000, -21.43636, -6.19078, -0.08165, 1.00000, },
				{ -0.76000, -0.00000, -0.00000, 0.00000, -0.00000, -0.76000, 0.00000, 0.00000, -0.00000, 0.00000, 0.76000, 0.00000, 14.27864, -6.19078, -0.08165, 1.00000, },
				{ -0.76000, -0.00000, -0.00000, 0.00000, -0.00000, -0.76000, 0.00000, 0.00000, -0.00000, 0.00000, 0.76000, 0.00000, 21.44364, -6.19078, -0.08165, 1.00000, },
			},
		},
	},
	["layout_front_number"] = {
		models = {
			["station/rail/asset/era_a_perron_number.mdl"] = {
				{ -0.00000, -1.50000, 0.00000, 0.00000, 1.50000, -0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.50000, 0.00000, -6.25011, -0.03492, 4.73922, 1.00000, },
				{ -0.00000, -1.50000, 0.00000, 0.00000, 1.50000, -0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.50000, 0.00000, 18.74989, -0.03492, 4.73922, 1.00000, },
			},
		},
	},
	["layout_front_name"] = {
		models = {
			["station/rail/asset/era_a_station_name.mdl"] = {
				{ -1.20000, -0.00000, -0.00000, 0.00000, 0.00000, -1.20000, 0.00000, 0.00000, -0.00000, 0.00000, 1.20000, 0.00000, 0.00000, -0.00000, 0.00000, 1.00000, },
			},
		},
	},
	["layout_back"] = {
		models = {
			["asset/industry/cardboard_box_01.mdl"] = {
				{ 0.91636, -0.40035, 0.00000, 0.00000, 0.40035, 0.91636, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 4.27794, 0.18562, 0.44938, 1.00000, },
				{ 0.93728, 0.34857, 0.00000, 0.00000, -0.34857, 0.93728, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 2.85497, 0.30930, 0.00000, 1.00000, },
			},
			["asset/industry/pallet_01.mdl"] = {
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -13.79000, 0.00000, 0.00000, 1.00000, },
				{ 0.99833, 0.05772, 0.00000, 0.00000, -0.05772, 0.99832, -0.00403, 0.00000, -0.00023, 0.00402, 0.99999, 0.00000, -13.79000, 0.00000, 0.14500, 1.00000, },
				{ 0.99990, -0.01399, 0.00000, 0.00000, 0.01399, 0.99990, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -13.79000, 0.00000, 0.29000, 1.00000, },
				{ 0.99916, 0.04110, 0.00000, 0.00000, -0.04109, 0.99915, -0.00287, 0.00000, -0.00012, 0.00287, 1.00000, 0.00000, -13.79000, 0.00000, 0.43500, 1.00000, },
				{ 0.99992, -0.01253, 0.00000, 0.00000, 0.01253, 0.99992, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -13.79000, 0.00000, 0.58000, 1.00000, },
			},
			["station/air/asset/handcart_luggage_a.mdl"] = {
				{ -0.61272, -0.78425, -0.09758, 0.00000, 0.78801, -0.61566, -0.00000, 0.00000, -0.06008, -0.07690, 0.99523, 0.00000, 4.30000, 0.16000, 0.00000, 1.00000, },
			},
			["station/rail/asset/cargo_lamps.mdl"] = {
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 6.25000, 0.00000, 0.00000, 1.00000, },
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 18.75000, 0.00000, 0.00000, 1.00000, },
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -6.25000, 0.00000, 0.00000, 1.00000, },
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -18.75000, 0.00000, 0.00000, 1.00000, },
			},
			["station/rail/asset/cargo_pallet_jack.mdl"] = {
				{ 0.07324, -0.99731, 0.00000, 0.00000, 0.99731, 0.07324, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -11.43000, 0.00000, 0.00000, 1.00000, },
			},
			["station/rail/asset/cargo_speakers.mdl"] = {
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 17.02500, 0.00000, 0.00000, 1.00000, },
			},
			["station/water/asset/era_a/gangway_s1.mdl"] = {
				{ -0.00097, 0.01743, 0.99985, 0.00000, 0.99881, 0.04885, 0.00012, 0.00000, -0.04884, 0.99865, -0.01745, 0.00000, 9.73456, -0.69483, 0.59256, 1.00000, },
			},
			["station/water/asset/era_a/mooring_bollard_cargo.mdl"] = {
				{ 1.00000, 0.00000, -0.00000, 0.00000, -0.00000, 1.00000, 0.00000, 0.00000, 0.00000, -0.00000, 1.00000, 0.00000, -9.87796, 5.65000, 0.00000, 1.00000, },
				{ 1.00000, 0.00000, -0.00000, 0.00000, -0.00000, 1.00000, 0.00000, 0.00000, 0.00000, -0.00000, 1.00000, 0.00000, 17.67204, 5.65000, 0.00000, 1.00000, },
			},
			["station/water/asset/era_a/mooring_ring.mdl"] = {
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 4.47075, -5.47995, -1.80024, 1.00000, },
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 7.63075, -5.47995, -1.80024, 1.00000, },
				{ -1.00000, 0.00000, -0.00000, 0.00000, -0.00000, -1.00000, 0.00000, 0.00000, -0.00000, 0.00000, 1.00000, 0.00000, 4.47075, 5.47000, -1.80024, 1.00000, },
				{ -1.00000, 0.00000, -0.00000, 0.00000, -0.00000, -1.00000, 0.00000, 0.00000, -0.00000, 0.00000, 1.00000, 0.00000, 7.63075, 5.47000, -1.80024, 1.00000, },
			},
			["station/water/asset/era_a/tire_bumper.mdl"] = {
				{ 0.76000, 0.00000, -0.00000, 0.00000, -0.00000, 0.76000, 0.00000, 0.00000, 0.00000, -0.00000, 0.76000, 0.00000, -7.14864, 6.19078, -0.08165, 1.00000, },
				{ 0.76000, 0.00000, -0.00000, 0.00000, -0.00000, 0.76000, 0.00000, 0.00000, 0.00000, -0.00000, 0.76000, 0.00000, 0.00136, 6.19078, -0.08165, 1.00000, },
				{ 0.76000, 0.00000, -0.00000, 0.00000, -0.00000, 0.76000, 0.00000, 0.00000, 0.00000, -0.00000, 0.76000, 0.00000, 14.28136, 6.19078, -0.08165, 1.00000, },
				{ 0.76000, 0.00000, -0.00000, 0.00000, -0.00000, 0.76000, 0.00000, 0.00000, 0.00000, -0.00000, 0.76000, 0.00000, 21.43636, 6.19078, -0.08165, 1.00000, },
				{ 0.76000, 0.00000, -0.00000, 0.00000, -0.00000, 0.76000, 0.00000, 0.00000, 0.00000, -0.00000, 0.76000, 0.00000, -14.27864, 6.19078, -0.08165, 1.00000, },
				{ 0.76000, 0.00000, -0.00000, 0.00000, -0.00000, 0.76000, 0.00000, 0.00000, 0.00000, -0.00000, 0.76000, 0.00000, -21.44364, 6.19078, -0.08165, 1.00000, },
			},
		},
	},
	["layout_back_number"] = {
		models = {
			["station/rail/asset/era_a_perron_number.mdl"] = {
				{ -0.00000, 1.50000, 0.00000, 0.00000, -1.50000, -0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.50000, 0.00000, -6.25011, -0.03492, 4.73922, 1.00000, },
				{ -0.00000, 1.50000, 0.00000, 0.00000, -1.50000, -0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.50000, 0.00000, 18.74989, -0.03492, 4.73922, 1.00000, },
			},
		},
	},
	["layout_back_name"] = {
		models = {
			["station/rail/asset/era_a_station_name.mdl"] = {
				{ -1.20000, -0.00000, -0.00000, 0.00000, 0.00000, -1.20000, 0.00000, 0.00000, -0.00000, 0.00000, 1.20000, 0.00000, 0.00000, -0.00000, 0.00000, 1.00000, },
			},
		},
	},
	["layout_full"] = {
		models = {
			["asset/industry/pallet_01.mdl"] = {
				{ 0.99881, 0.04885, 0.00000, 0.00000, -0.04885, 0.99881, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -13.79000, -0.00000, 0.00000, 1.00000, },
				{ 0.99833, 0.05772, 0.00000, 0.00000, -0.05772, 0.99832, -0.00403, 0.00000, -0.00023, 0.00402, 0.99999, 0.00000, -13.79000, 0.00000, 0.14500, 1.00000, },
				{ 0.99824, -0.05933, 0.00000, 0.00000, 0.05933, 0.99824, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -13.79000, 0.00000, 0.29000, 1.00000, },
				{ 0.99595, 0.08985, 0.00000, 0.00000, -0.08985, 0.99595, -0.00287, 0.00000, -0.00026, 0.00286, 1.00000, 0.00000, -13.79000, 0.00000, 0.43500, 1.00000, },
				{ 0.99992, -0.01253, 0.00000, 0.00000, 0.01253, 0.99992, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -13.79000, 0.00000, 0.58000, 1.00000, },
			},
			["station/air/asset/handcart_luggage_a.mdl"] = {
				{ -0.61272, -0.78425, -0.09758, 0.00000, 0.78801, -0.61566, -0.00000, 0.00000, -0.06008, -0.07690, 0.99523, 0.00000, 14.72000, 0.16000, 0.00000, 1.00000, },
				{ 0.08674, -0.99144, -0.09758, 0.00000, 0.99619, 0.08716, -0.00000, 0.00000, 0.00850, -0.09721, 0.99523, 0.00000, -2.60000, 0.16000, 0.00000, 1.00000, },
			},
			["station/rail/asset/cargo_lamps.mdl"] = {
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 6.25000, 0.00000, 0.00000, 1.00000, },
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 18.75000, 0.00000, 0.00000, 1.00000, },
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -6.25000, 0.00000, 0.00000, 1.00000, },
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -18.75000, 0.00000, 0.00000, 1.00000, },
			},
			["station/rail/asset/cargo_pallet_jack.mdl"] = {
				{ 0.07324, -0.99731, 0.00000, 0.00000, 0.99731, 0.07324, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -14.81000, 0.00000, 0.00000, 1.00000, },
				{ -0.21474, -0.97667, 0.00000, 0.00000, 0.97667, -0.21474, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -15.81000, 0.16000, 0.00000, 1.00000, },
			},
			["station/rail/asset/cargo_speakers.mdl"] = {
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 17.02500, 0.00000, 0.00000, 1.00000, },
			},
			["station/water/asset/era_a/gangway_s1.mdl"] = {
				{ 0.03839, -0.99926, 0.00000, 0.00000, 0.99379, 0.03818, 0.10453, 0.00000, -0.10445, -0.00401, 0.99452, 0.00000, -9.76169, 0.05517, 0.00000, 1.00000, },
				{ 0.28903, 0.95732, 0.00000, 0.00000, -0.95208, 0.28745, 0.10453, 0.00000, 0.10007, -0.03021, 0.99452, 0.00000, -1.61169, 4.79517, 0.00000, 1.00000, },
			},
			["station/water/asset/era_a/mooring_bollard_cargo.mdl"] = {
				{ -1.00000, -0.00000, 0.00000, 0.00000, 0.00000, -1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 17.87796, -5.65000, 0.00000, 1.00000, },
				{ -1.00000, -0.00000, 0.00000, 0.00000, 0.00000, -1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -9.67204, -5.65000, 0.00000, 1.00000, },
				{ 1.00000, 0.00000, -0.00000, 0.00000, -0.00000, 1.00000, 0.00000, 0.00000, 0.00000, -0.00000, 1.00000, 0.00000, -9.87796, 5.65000, 0.00000, 1.00000, },
				{ 1.00000, 0.00000, -0.00000, 0.00000, -0.00000, 1.00000, 0.00000, 0.00000, 0.00000, -0.00000, 1.00000, 0.00000, 17.67204, 5.65000, 0.00000, 1.00000, },
			},
			["station/water/asset/era_a/mooring_ring.mdl"] = {
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 4.47075, -5.47995, -1.80024, 1.00000, },
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 7.63075, -5.47995, -1.80024, 1.00000, },
				{ -1.00000, 0.00000, -0.00000, 0.00000, -0.00000, -1.00000, 0.00000, 0.00000, -0.00000, 0.00000, 1.00000, 0.00000, 4.47075, 5.47000, -1.80024, 1.00000, },
				{ -1.00000, 0.00000, -0.00000, 0.00000, -0.00000, -1.00000, 0.00000, 0.00000, -0.00000, 0.00000, 1.00000, 0.00000, 7.63075, 5.47000, -1.80024, 1.00000, },
			},
			["station/water/asset/era_a/tire_bumper.mdl"] = {
				{ -0.76000, -0.00000, -0.00000, 0.00000, -0.00000, -0.76000, 0.00000, 0.00000, -0.00000, 0.00000, 0.76000, 0.00000, -0.00136, -6.19078, -0.08165, 1.00000, },
				{ -0.76000, -0.00000, -0.00000, 0.00000, -0.00000, -0.76000, 0.00000, 0.00000, -0.00000, 0.00000, 0.76000, 0.00000, -7.13636, -6.19078, -0.08165, 1.00000, },
				{ -0.76000, -0.00000, -0.00000, 0.00000, -0.00000, -0.76000, 0.00000, 0.00000, -0.00000, 0.00000, 0.76000, 0.00000, -14.28136, -6.19078, -0.08165, 1.00000, },
				{ -0.76000, -0.00000, -0.00000, 0.00000, -0.00000, -0.76000, 0.00000, 0.00000, -0.00000, 0.00000, 0.76000, 0.00000, -21.43636, -6.19078, -0.08165, 1.00000, },
				{ -0.76000, -0.00000, -0.00000, 0.00000, -0.00000, -0.76000, 0.00000, 0.00000, -0.00000, 0.00000, 0.76000, 0.00000, 14.27864, -6.19078, -0.08165, 1.00000, },
				{ -0.76000, -0.00000, -0.00000, 0.00000, -0.00000, -0.76000, 0.00000, 0.00000, -0.00000, 0.00000, 0.76000, 0.00000, 21.44364, -6.19078, -0.08165, 1.00000, },
				{ 0.76000, 0.00000, -0.00000, 0.00000, -0.00000, 0.76000, 0.00000, 0.00000, 0.00000, -0.00000, 0.76000, 0.00000, -7.14864, 6.19078, -0.08165, 1.00000, },
				{ 0.76000, 0.00000, -0.00000, 0.00000, -0.00000, 0.76000, 0.00000, 0.00000, 0.00000, -0.00000, 0.76000, 0.00000, 0.00136, 6.19078, -0.08165, 1.00000, },
				{ 0.76000, 0.00000, -0.00000, 0.00000, -0.00000, 0.76000, 0.00000, 0.00000, 0.00000, -0.00000, 0.76000, 0.00000, 14.28136, 6.19078, -0.08165, 1.00000, },
				{ 0.76000, 0.00000, -0.00000, 0.00000, -0.00000, 0.76000, 0.00000, 0.00000, 0.00000, -0.00000, 0.76000, 0.00000, 21.43636, 6.19078, -0.08165, 1.00000, },
				{ 0.76000, 0.00000, -0.00000, 0.00000, -0.00000, 0.76000, 0.00000, 0.00000, 0.00000, -0.00000, 0.76000, 0.00000, -14.27864, 6.19078, -0.08165, 1.00000, },
				{ 0.76000, 0.00000, -0.00000, 0.00000, -0.00000, 0.76000, 0.00000, 0.00000, 0.00000, -0.00000, 0.76000, 0.00000, -21.44364, 6.19078, -0.08165, 1.00000, },
			},
		},
	},
	["layout_full_number"] = {
		models = {
			["station/rail/asset/era_a_perron_number.mdl"] = {
				{ -0.00000, 1.50000, 0.00000, 0.00000, -1.50000, -0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.50000, 0.00000, -6.25011, -0.03492, 4.73922, 1.00000, },
				{ -0.00000, 1.50000, 0.00000, 0.00000, -1.50000, -0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.50000, 0.00000, 18.74989, -0.03492, 4.73922, 1.00000, },
				{ -0.00000, -1.50000, 0.00000, 0.00000, 1.50000, -0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.50000, 0.00000, -6.25011, -0.03492, 4.73922, 1.00000, },
				{ -0.00000, -1.50000, 0.00000, 0.00000, 1.50000, -0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.50000, 0.00000, 18.74989, -0.03492, 4.73922, 1.00000, },
			},
		},
	},
	["layout_full_name"] = {
		models = {
			["station/rail/asset/era_a_station_name.mdl"] = {
				{ -1.20000, -0.00000, -0.00000, 0.00000, 0.00000, -1.20000, 0.00000, 0.00000, -0.00000, 0.00000, 1.20000, 0.00000, 0.00000, -0.00000, 0.00000, 1.00000, },
			},
		},
	},
}
--End Generated

function data()

local modelConfig = {
	main = "station/water/era_a/dock_50_12_cargo.mdl",
	addons = {"station/water/era_a/dock_50_12_network_cargo.mdl"},
	con_l = {"station/water/era_a/dock_50_12_con_l_cargo.mdl"},
	con_r = {"station/water/era_a/dock_50_12_con_r_cargo.mdl"},
	con_t = {"station/water/era_a/dock_50_12_con_f_cargo.mdl"},
	con_b = {"station/water/era_a/dock_50_12_con_b_cargo.mdl"},
	end_l = {"station/water/era_a/dock_50_12_end_l_cargo.mdl"},
	end_r = {"station/water/era_a/dock_50_12_end_r_cargo.mdl"},
	end_t = {"station/water/era_a/dock_50_12_end_f_cargo.mdl"},
	end_b = {"station/water/era_a/dock_50_12_end_b_cargo.mdl"},
	fence = {
		main = "station/water/era_a/safeguard_metal.mdl",
		con_l = "station/water/era_a/safeguard_metal_con_l.mdl",
		con_r = "station/water/era_a/safeguard_metal_con_r.mdl",
		end_l = "station/water/era_a/safeguard_metal_end_l.mdl",
		end_r = "station/water/era_a/safeguard_metal_end_r.mdl",
		corner_in = "station/water/era_a/safeguard_metal_corner_in.mdl",
		corner_out = "station/water/era_a/safeguard_metal_corner_out.mdl",
		ftype = 2
	}
}

return { 
	cost = {
		price = 100000,
	},
	category = {
		categories = { "cargo", },
	},
	description = {
		name = _("Small dock"),
		description = _("Small dock for small cargo ships. A small landing is required for ships to be able to dock. Provides capacity for 30 cargo items."),
		icon = "ui/construction/station/water/cargo_dock_50_12.tga"
	}, 
	availability = {
		yearFrom = 1850,
		yearTo = 0,
	},
	type = "water_module_50_12",
	order = {
		value = 20,
	},
	metadata = {
		platform = true,
		cargo = true,
		type = 2,
		moreCapacity = {
			cargo = cargoCapacity,
			passenger = passengerCapacity
		}
	},
	
	updateFn = function(result, transformInvalid, tag, slotId, addModelFnInvalid, params)
		local coordI, coordJ, facing = result.DemangleId(slotId)
		local size = {4, 1}

		local bounds, center, range = result.MakeBoundsAndCenter(slotId, size, coordI, coordJ, facing)

		local connect = {
			left = false,
			right = false,
			bottom = false,
			top = false,
		}
		
		table.insert(result.InvokeLater, function()
			local ftype = modelConfig.fence.ftype
			local hole = false
			result.ForEachLeft(bounds, function(slotInfo, mod, I, i, j) 
				if mod and mod.metadata.platform then
					connect.left = true
					result.SetFence(i + 1, j, 3, 0)
				else
					hole = true
					result.SetFence(i + 1, j, 3, ftype)
					connect.fenceLeft = true
				end				
			end, function(I, i, j) result.SetFence(i + 1, j, 3, ftype) hole = true connect.fenceLeft = true end)
			if result.IsFlipped(facing) and not connect.left then result.ForEachLeft(bounds, function(a, b, I, i, j) result.SetFence(i + 1, j, 3, 0) end, function(I, i, j) result.SetFence(i + 1, j, 3, 0) end) end
			if not result.IsFlipped(facing) and hole and connect.left then connect.left = false connect.fenceLeft = true end 
			
			hole = false
			result.ForEachRight(bounds, function(slotInfo, mod, I, i, j) 
				if mod and mod.metadata.platform then
					connect.right = true 
					result.SetFence(i - 1, j, 1, 0)
				else
					hole = true
					result.SetFence(i - 1, j, 1, ftype)
					connect.fenceRight = true
				end				
			end, function(I, i, j) result.SetFence(i - 1, j, 1, ftype) hole = true connect.fenceRight = true end)
			if result.IsFlipped(facing) and not connect.right then result.ForEachRight(bounds, function(a, b, I, i, j) result.SetFence(i - 1, j, 1, 0) end, function(I, i, j) result.SetFence(i - 1, j, 1, 0) end) end
			if not result.IsFlipped(facing) and hole and connect.right then connect.right = false connect.fenceRight = true end 
			
			hole = false
			result.ForEachTop(bounds, function(slotInfo, mod, I, i, j) 
				if mod and mod.metadata.platform then
					connect.top = true 
					result.SetFence(i, j - 1, 2, 0)
				else
					hole = true
					result.SetFence(i, j - 1, 2, ftype)
					connect.fenceTop = true
				end				
			end, function(I, i, j) result.SetFence(i, j - 1, 2, ftype) hole = true connect.fenceTop = true end)
			if not result.IsFlipped(facing) and not connect.top then result.ForEachTop(bounds, function(a, b, I, i, j) result.SetFence(i, j - 1, 2, 0) end, function(I, i, j) result.SetFence(i, j - 1, 2, 0) end) end
			if result.IsFlipped(facing) and hole and connect.top then connect.top = false connect.fenceTop = true end 
			
			hole = false
			result.ForEachBottom(bounds, function(slotInfo, mod, I, i, j) 
				if mod and mod.metadata.platform then
					connect.bottom = true 
					result.SetFence(i, j + 1, 0, 0)
				else
					hole = true
					result.SetFence(i, j + 1, 0, ftype)
					connect.fenceBottom = true
				end				
			end, function(I, i, j) result.SetFence(i, j + 1, 0, ftype) hole = true connect.fenceBottom = true end)
			if not result.IsFlipped(facing) and not connect.bottom then result.ForEachBottom(bounds, function(a, b, I, i, j) result.SetFence(i, j + 1, 0, 0) end, function(I, i, j) result.SetFence(i, j + 1, 0, 0) end) end
			if result.IsFlipped(facing) and hole and connect.bottom then connect.bottom = false connect.fenceBottom = true end 
			
			result.coord2slotId[coordI][coordJ].connect = connect
		end)
			
		result.addModuleDataPart2[slotId] = function(transform, addModelFn)
		
			local function fn(tf)
			
				local pier = params.modules[slotId].pier
				local leftPier 
				local rightPier
				-- t l b r
				if facing % 8 < 4 then
					leftPier  = pier and pier[(facing + 1) % 4]
					rightPier = pier and pier[(facing + 3) % 4]
				else
					leftPier  = pier and pier[(facing + 2) % 4]
					rightPier = pier and pier[(facing + 0) % 4]
				end
				
				
				if leftPier and rightPier then
					local stationL = tostring(result.slot2terminalInfo[leftPier].cargo and 0 or (result.hasCargoStation and 1 or 0))
					local terminalL = tostring(result.slot2terminalInfo[leftPier].terminal)
					local stationR = tostring(result.slot2terminalInfo[rightPier].cargo and 0 or (result.hasCargoStation and 1 or 0))
					local terminalR = tostring(result.slot2terminalInfo[rightPier].terminal)
					result.labelText[#result.models] = { stationR, stationL }
					result.labelText[#result.models + 1] = { terminalR, terminalR }
					result.labelText[#result.models + 2] = { terminalR, terminalR }
					result.labelText[#result.models + 3] = { terminalL, terminalL }
					result.labelText[#result.models + 4] = { terminalL, terminalL }
					constructionutil.addModelsAndGroups(params, generatedData["layout_full_name"], result, tag, tf)
					constructionutil.addModelsAndGroups(params, generatedData["layout_full_number"], result, tag, tf)
					constructionutil.addModelsAndGroups(params, generatedData["layout_full"], result, tag, tf)
				elseif leftPier then
					local station = tostring(result.slot2terminalInfo[leftPier].cargo and 0 or (result.hasCargoStation and 1 or 0))
					local terminal = tostring(result.slot2terminalInfo[leftPier].terminal)
					result.labelText[#result.models + 0] = { station, station }
					result.labelText[#result.models + 1] = { terminal, terminal }
					result.labelText[#result.models + 2] = { terminal, terminal }
					constructionutil.addModelsAndGroups(params, generatedData["layout_front_name"], result, tag, tf)
					constructionutil.addModelsAndGroups(params, generatedData["layout_front_number"], result, tag, tf)
					constructionutil.addModelsAndGroups(params, generatedData["layout_front"], result, tag, tf)
				elseif rightPier then
					local station = tostring(result.slot2terminalInfo[rightPier].cargo and 0 or (result.hasCargoStation and 1 or 0))
					local terminal = tostring(result.slot2terminalInfo[rightPier].terminal)
					result.labelText[#result.models + 0] = { station, station }
					result.labelText[#result.models + 1] = { terminal, terminal }
					result.labelText[#result.models + 2] = { terminal, terminal }
					constructionutil.addModelsAndGroups(params, generatedData["layout_back_name"], result, tag, tf)
					constructionutil.addModelsAndGroups(params, generatedData["layout_back_number"], result, tag, tf)
					constructionutil.addModelsAndGroups(params, generatedData["layout_back"], result, tag, tf)
				else
					constructionutil.addModelsAndGroups(params, generatedData["layout_empty"], result, tag, tf)
				end
			end
			
			result.ApplyConfig(bounds, center, transform, modelConfig, addModelFn, connect, facing, nil, fn)
		end
		
		result.AddFace(bounds, nil, -0.3)
		
		result.MakeSlots(bounds, range[12], "12_12")
		result.MakeSlots(bounds, range[12], "50_12")
		result.MakeSlots(bounds, range[50], "50_12_flip")
		result.MakeSlots(bounds, range[25], "100_25")
		result.MakeSlots(bounds, range[100], "100_25_flip")
		result.MakeSlots(bounds, range[50], "100_50")
		result.MakeSlots(bounds, range[100], "100_50_flip")
		result.MakeSlots(bounds, range[50], "50_50")
		result.MakeSlots(bounds, range[50], "50_50_flip")
		
		result.MakeSlots(bounds, range[-50], "50_12_pier", -4.0)

	end,
	
	getModelsFn = function()
		local result = harbourstationutil.MakePreview(modelConfig)
		
		local transform = transf.scale(vec3.new(1, 1, 1))
	
		constructionutil.addModels(generatedData["layout_empty"], result, transform)
	
		return result
	end
}

end
